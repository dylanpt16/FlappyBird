{"version":3,"sources":["webpack:///webpack/bootstrap ba9f56639536d2af7e41","webpack:///./src/Constants.js","webpack:///./src/Images.js","webpack:///./src/Sounds.js","webpack:///./src/FlappyBird.js","webpack:///./src/PageManager.js","webpack:///./src/GameManager.js","webpack:///./src/Background.js","webpack:///./src/Bird.js","webpack:///./src/Pipes.js"],"names":["BACKGROUND","LOWER_HEIGHT","SPEED","UPPER_HEIGHT","BIRD","ANIMATION_SPEED","GRAVITY","HEIGHT","INITIAL_VELOCITY","INITIAL_X_POSITION","INITIAL_Y_POSITION","JUMP_INITIAL_SPEED","WIDTH","CANVAS","DIFFICULTY","EASY","HARD","NORMAL","PIPE","DIFFICULTY_ADJUSTMENT","SPACE_BETWEEN_PIPES","STATE","BIRDCRASHED","ENDGAME","PLAYING","PREGAME","BACKGROUND_SRC","FINGER","LOGO","LOWER","SPACEBAR","UPPER","BIRD_SRC","GAMEOVER_SRC","PIPE_SRC","birdJumpSound","Audio","pipeCrashSound","earnPointSound","document","addEventListener","$el","$","window","page","SCORES","PageManager","updateGameScores","bind","_updateScoreBoard","_initFindElements","_initListeners","_initGame","$canvas","find","$difficultyBtn","$muteSoundBtn","$restartBtn","$scoreBoard","canvas","ctx","getContext","_initScores","_game","_difficulty","newGame","waitTime","endGame","_timeOut","setTimeout","clearTimeout","scores","JSON","parse","localStorage","getItem","_scores","Array","isArray","key","e","onPressed","click","preventDefault","dblclick","isMuted","prop","toggleSound","newDifficulty","target","innerText","_reInitGame","newScore","newRecord","difficulty","score","time","moment","push","sort","i","j","slice","setItem","stringify","$ol","forEach","record","$li","format","append","html","gameOverImg","Image","src","GameManager","state","backGround","bird","currentGameState","flashOpacity","pipes","updateState","updateCanvas","_run","requestId","requestAnimationFrame","cancelAnimationFrame","frames","hasBirdCrashedPipe","hasBirdTouchedGround","hasBirdPassedFirstPipe","play","clearRect","drawUpperBackground","drawLowerBackground","fillStyle","fillRect","_drawGameOver","_drawScore","font","fillText","drawImage","jump","getPositions","birdX","birdY","leftMostPipe","x","y","width","upperPipeHeight","spaceBtwUpAndDown","closestX","Math","min","max","closestUpperPipeHeight","closestLowerPipeHeight","dX","dUpperPipeHeight","dLowerPipeHeight","d1","d2","birdRadius","muted","upperBackgroundImg","lowerBackgroundImg","fingerImg","logoImg","spacebarImg","Background","currentState","_drawInstructions","birdImg","FLAPPING_BIRD_IMG_INDEXES","birdGravity","Bird","images","imagesIdx","imagesRotation","velocity","_drawBirdIndexes","_drawBirdFlapUp","_drawBirdFlapMid","_drawBirdFlapDown","_drawSprite","cos","_playingState","_endGameState","idx","floor","hasBirdTouchedCeiling","PI","lowestBirdPosition","spriteX","save","translate","rotate","restore","pipeImg","Pipes","_pipeCollection","_movePipes","isEmpty","length","rightMostPipe","shouldAddNewPipe","shouldRemoveOldPipe","_addNewPipes","_removeOldPipes","_drawPipes","pipe","lowerPipeHeight","_getRandomInt","splice","ceil","random","birdPassedFirstPipes"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ba9f56639536d2af7e41","export const BACKGROUND = {\n  LOWER_HEIGHT: 85,\n  SPEED: 3,\n  UPPER_HEIGHT: 515,\n};\n\nexport const BIRD = {\n  ANIMATION_SPEED: 10,\n  GRAVITY: 0.5,\n  HEIGHT: 44,\n  INITIAL_VELOCITY: -2,\n  INITIAL_X_POSITION: 100,\n  INITIAL_Y_POSITION: 250,\n  JUMP_INITIAL_SPEED: 10,\n  WIDTH: 62,\n};\n\nexport const CANVAS = {\n  HEIGHT: 600,\n  WIDTH: 500,\n};\n\nexport const DIFFICULTY = {\n  EASY: 'Easy',\n  HARD: 'Hard',\n  NORMAL: 'Normal',\n};\n\nexport const PIPE = {\n  DIFFICULTY_ADJUSTMENT: 50,\n  SPACE_BETWEEN_PIPES: 200,\n  SPEED: 3,\n  WIDTH: 100,\n};\n\nexport const STATE = {\n  BIRDCRASHED: 'BIRDCRASHED',\n  ENDGAME: 'ENDGAME',\n  PLAYING: 'PLAYING',\n  PREGAME: 'PREGAME',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/Constants.js","export const BACKGROUND_SRC = {\n  FINGER: 'assets/img/finger.jpg',\n  LOGO: 'assets/img/logo.png',\n  LOWER: 'assets/img/ground.png',\n  SPACEBAR: 'assets/img/spacebar.png',\n  UPPER: 'assets/img/background.png',\n};\n\nexport const BIRD_SRC = 'assets/img/bird.png';\n\nexport const GAMEOVER_SRC = 'assets/img/gameover.png';\n\nexport const PIPE_SRC = 'assets/img/pipe.png';\n\n\n\n// WEBPACK FOOTER //\n// ./src/Images.js","export const birdJumpSound = new Audio('assets/sound/keyPressed.wav');\n\nexport const pipeCrashSound = new Audio('assets/sound/crashedPipe.wav');\n\nexport const earnPointSound = new Audio('assets/sound/earnPoint.wav');\n\n\n\n// WEBPACK FOOTER //\n// ./src/Sounds.js","import PageManager from './PageManager';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const $el = $('#flappy');\n  window.page = new PageManager($el);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/FlappyBird.js","import GameManager from './GameManager';\nimport {DIFFICULTY} from './Constants';\n\nconst SCORES = 'SCORES'\n\nclass PageManager{\n  constructor($el){\n    this.$el = $el;\n    this.updateGameScores = this.updateGameScores.bind(this);\n    this._updateScoreBoard = this._updateScoreBoard.bind(this);\n    this._initFindElements($el);\n    this._initListeners();\n    this._initGame();\n    this._updateScoreBoard();\n  }\n\n  _initFindElements($el){\n    this.$canvas = $el.find('#canvas');\n    this.$difficultyBtn = $el.find('.difficulty');\n    this.$muteSoundBtn = $el.find('#mute-toggle-checkbox');\n    this.$restartBtn = $el.find('.restart');\n    this.$scoreBoard = $el.find('#scoreBoard');\n    this.canvas = this.$canvas[0];\n    this.ctx = this.canvas.getContext('2d');\n  }\n\n  _initGame(){\n    this._initScores();\n    this._game = new GameManager(this.ctx, this._difficulty || DIFFICULTY.NORMAL, this.updateGameScores);\n    this._game.newGame();\n  }\n\n  _reInitGame(waitTime){\n    this._game.endGame();\n    if(waitTime){\n      this._timeOut = setTimeout(()=> {\n        delete this._game;\n        this._initGame();\n      }, waitTime);\n    }else {\n      clearTimeout(this._timeOut);\n      delete this._game;\n      this._initGame();\n    }\n  }\n\n  _initScores(){\n    let scores;\n    scores = JSON.parse(window.localStorage.getItem(SCORES));\n    this._scores = Array.isArray(scores) ? scores : [];\n  }\n\n  _initListeners(){\n    key( 'space', (e) => {\n      this._game.onPressed();\n    });\n\n    this.$canvas.click((e)=>{\n      e.preventDefault();\n      this._game.onPressed();\n    });\n\n    this.$canvas.dblclick((e)=>{\n      e.preventDefault();\n      this._game.onPressed();\n    });\n\n    this.$muteSoundBtn.click((e)=>{\n      e.preventDefault();\n      const isMuted = true;\n      if(this.$muteSoundBtn.prop('checked')){\n        this._game.toggleSound(isMuted);\n      }else{\n        this._game.toggleSound(!isMuted);\n      };\n    });\n\n    this.$difficultyBtn.click((e)=>{\n      e.preventDefault();\n      const newDifficulty = e.target.innerText;\n      this._difficulty = newDifficulty;\n      this._reInitGame();\n    })\n\n    this.$restartBtn.click((e)=>{\n      e.preventDefault();\n      this._reInitGame();\n    });\n  }\n\n  updateGameScores(newScore){\n    const newRecord = {\n      difficulty: (this._difficulty || DIFFICULTY.NORMAL),\n      score: newScore,\n      time: new moment(),\n    };\n    this._scores.push(newRecord);\n    this._scores = this._scores.sort((i,j)=> j.score - i.score).slice(0,3);;\n\n    window.localStorage.setItem(SCORES, JSON.stringify(this._scores));\n\n    this._updateScoreBoard();\n    this._reInitGame(1000);\n  }\n\n  _updateScoreBoard(){\n    const $ol = $('<ol>');\n\n    this._scores.forEach((record)=> {\n      const $li = $(`\n        <li class='scores'>\n          <span>\n          ${record.score}\n          </span>\n          <span>\n            ${moment(record.time).format('MM-DD-YYYY')}\n          </span>\n          <span>\n            ${record.difficulty}\n          </span>\n        </li>\n      `);\n      $ol.append($li);\n    })\n\n    this.$scoreBoard.html($ol);\n  }\n}\n\nexport default PageManager;\n\n\n\n// WEBPACK FOOTER //\n// ./src/PageManager.js","import {\n  BIRD,\n  CANVAS,\n  STATE,\n} from './Constants';\nimport Background from './Background';\nimport Bird from './Bird';\nimport Pipes from './Pipes';\nimport {birdJumpSound, pipeCrashSound, earnPointSound} from './Sounds';\nimport {GAMEOVER_SRC} from './Images';\n\nconst gameOverImg = new Image();\ngameOverImg.src = GAMEOVER_SRC;\n\nclass GameManager{\n  constructor(ctx, difficulty, updateGameScores){\n    this.ctx = ctx;\n    this.updateGameScores = updateGameScores;\n    this._difficulty = difficulty;\n    this.state = {\n      backGround: new Background(this.ctx),\n      bird: new Bird(this.ctx),\n      currentGameState: STATE.PREGAME,\n      flashOpacity: 0,\n      pipes: new Pipes(this.ctx, this._difficulty),\n      score: 0,\n    };\n    this.updateState = this.updateState.bind(this);\n    this.updateCanvas = this.updateCanvas.bind(this);\n    this._run = this._run.bind(this);\n    this.endGame = this.endGame.bind(this);\n  }\n\n  _run(){\n    this.updateState();\n    this.updateCanvas();\n    if(this.state.currentGameState != STATE.ENDGAME){\n      this.requestId = requestAnimationFrame(this._run);\n    }\n  }\n\n  newGame(){\n    this._run();\n  }\n\n  endGame(){\n    if(this.requestId){\n      cancelAnimationFrame(this.requestId);\n    }\n  }\n\n  updateState(){\n    const frames = this.requestId;\n    const {\n      backGround,\n      bird,\n      pipes,\n    } = this.state;\n\n    if(this.state.currentGameState != STATE.BIRDCRASHED && this.hasBirdCrashedPipe(bird, pipes)){\n      this.state.currentGameState = STATE.BIRDCRASHED;\n      this.state.flashOpacity = 30;\n    }\n\n    if(bird.hasBirdTouchedGround() && !this.state.flashOpacity){\n      this.state.currentGameState = STATE.ENDGAME;\n      this.updateGameScores(this.state.score);\n    }\n\n    this.state.flashOpacity -= (this.state.flashOpacity > 0 ? 1 : 0);\n\n    if(pipes.hasBirdPassedFirstPipe()){\n      this.state.score += 1;\n      earnPointSound.play();\n    }\n\n    backGround.updateState(this.state.currentGameState);\n    pipes.updateState(this.state.currentGameState);\n    bird.updateState(this.state.currentGameState, frames);\n  }\n\n  updateCanvas(){\n    const {\n      backGround,\n      bird,\n      currentGameState,\n      flashOpacity,\n      pipes,\n    } = this.state;\n\n    const ctx = this.ctx;\n\n    ctx.clearRect(0, 0, CANVAS.WIDTH, CANVAS.HEIGHT);\n    backGround.drawUpperBackground();\n    pipes.updateCanvas();\n    bird.updateCanvas();\n    backGround.drawLowerBackground();\n\n    if(flashOpacity > 0){\n      ctx.fillStyle = `rgba(255, 255, 255, ${flashOpacity/30})`;\n      ctx.fillRect(0, 0, CANVAS.WIDTH, CANVAS.HEIGHT);\n    }\n\n    if(currentGameState === STATE.ENDGAME){\n      this._drawGameOver();\n    }else {\n      this._drawScore();\n    }\n  }\n\n  _drawScore(){\n    const ctx = this.ctx;\n    ctx.font = '46px Arial';\n    ctx.fillStyle = 'white';\n    ctx.fillText(this.state.score, CANVAS.WIDTH/2 - 23, 50);\n  }\n\n  _drawGameOver(){\n    const ctx = this.ctx;\n    ctx.drawImage(gameOverImg, CANVAS.WIDTH/2 - 200, CANVAS.HEIGHT/10, 400, 200);\n    ctx.font = \"100px Arial\";\n    ctx.fillText(this.state.score, CANVAS.WIDTH/2 - 40, CANVAS.HEIGHT/2 + 50);\n  }\n\n  onPressed(){\n    const {\n      bird,\n    } = this.state;\n\n    switch(this.state.currentGameState){\n      case STATE.PREGAME:\n        this.state.currentGameState = STATE.PLAYING;\n        bird.jump();\n        birdJumpSound.play();\n        break;\n      case STATE.PLAYING:\n        bird.jump();\n        birdJumpSound.play();\n        break;\n    }\n  }\n\n  hasBirdCrashedPipe(bird, pipes){\n    const [birdX, birdY] = bird.getPositions();\n    const {x, y, width, upperPipeHeight, spaceBtwUpAndDown} = pipes.leftMostPipe();\n    const closestX  = Math.min(Math.max(birdX, x), x + width);\n    const closestUpperPipeHeight = Math.min(birdY, y + upperPipeHeight);\n    const closestLowerPipeHeight  = Math.max(birdY, y + upperPipeHeight + spaceBtwUpAndDown);\n\n    const dX  = birdX - closestX;\n    const dUpperPipeHeight = birdY - closestUpperPipeHeight;\n    const dLowerPipeHeight = birdY - closestLowerPipeHeight;\n    // vector length\n    const d1 = dX*dX + dUpperPipeHeight*dUpperPipeHeight;\n    const d2 = dX*dX + dLowerPipeHeight*dLowerPipeHeight;\n    const birdRadius = (BIRD.HEIGHT/2)*(BIRD.HEIGHT/2);\n    // determine intersection\n    if (birdRadius > d1 || birdRadius > d2) {\n      pipeCrashSound.play();\n      return true;\n    }\n    return false;\n  }\n\n  toggleSound(isMuted){\n    birdJumpSound.muted = isMuted;\n    pipeCrashSound.muted = isMuted;\n    earnPointSound.muted = isMuted;\n  }\n}\n\nexport default GameManager;\n\n\n\n// WEBPACK FOOTER //\n// ./src/GameManager.js","import {\n  BACKGROUND,\n  BIRD,\n  CANVAS,\n  PIPE,\n  STATE,\n} from './Constants';\nimport {BACKGROUND_SRC} from './Images';\n\nconst upperBackgroundImg = new Image();\nupperBackgroundImg.src = BACKGROUND_SRC.UPPER;\nconst lowerBackgroundImg = new Image();\nlowerBackgroundImg.src = BACKGROUND_SRC.LOWER;\nconst fingerImg = new Image();\nfingerImg.src = BACKGROUND_SRC.FINGER;\nconst logoImg = new Image();\nlogoImg.src = BACKGROUND_SRC.LOGO;\nconst spacebarImg = new Image();\nspacebarImg.src = BACKGROUND_SRC.SPACEBAR;\n\nclass Background{\n  constructor(ctx){\n    this.ctx = ctx;\n    this.state = {\n      x: 600,\n    }\n  }\n\n  updateState(currentState){\n    this.currentState = currentState;\n    if(currentState === STATE.PLAYING || currentState === STATE.PREGAME){\n      this.state.x -= BACKGROUND.SPEED;\n      if(this.state.x <= 564){\n        this.state.x = 600;\n      }\n    }\n  }\n\n  drawUpperBackground(){\n    const ctx = this.ctx;\n    ctx.drawImage(upperBackgroundImg, 0, 0, CANVAS.WIDTH, BACKGROUND.UPPER_HEIGHT);\n    if(this.currentState === STATE.PREGAME){\n      this._drawInstructions();\n    }\n  }\n\n  _drawInstructions(){\n    const ctx = this.ctx;\n    ctx.drawImage(logoImg, CANVAS.WIDTH/2 - 131, CANVAS.HEIGHT/6, 262, 70);\n    ctx.drawImage(spacebarImg, CANVAS.WIDTH/2 - 60, CANVAS.HEIGHT/2.8, 120, 100)\n    ctx.drawImage(fingerImg, CANVAS.WIDTH/2 - 50, CANVAS.HEIGHT/2, 100, 80)\n  }\n\n  drawLowerBackground(){\n    const ctx = this.ctx;\n    for(let i = 0; i < 18; i++){\n      ctx.drawImage(lowerBackgroundImg, this.state.x-36*i, BACKGROUND.UPPER_HEIGHT);\n    }\n  }\n}\n\nexport default Background;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Background.js","import {\n  BACKGROUND,\n  BIRD,\n  CANVAS,\n  STATE,\n} from './Constants';\nimport {BIRD_SRC} from './Images';\n\nconst ANIMATION_SPEED = BIRD.ANIMATION_SPEED;\nconst birdImg = new Image();\nbirdImg.src = BIRD_SRC;\nconst FLAPPING_BIRD_IMG_INDEXES = [184, 92, 0];\nconst birdGravity = BIRD.GRAVITY;\n\nclass Bird{\n  constructor(ctx){\n    this.ctx = ctx;\n    this.frames = 0;\n    this.state = {\n      currentState: STATE.PREGAME,\n      images: FLAPPING_BIRD_IMG_INDEXES,\n      imagesIdx: 0,\n      imagesRotation: 0,\n      velocity: BIRD.INITIAL_VELOCITY,\n      x: BIRD.INITIAL_X_POSITION,\n      y: BIRD.INITIAL_Y_POSITION,\n    }\n    this._drawBirdIndexes = [\n      () => this._drawBirdFlapUp(),\n      () => this._drawBirdFlapMid(),\n      () => this._drawBirdFlapDown(),\n      () => this._drawBirdFlapMid()\n    ];\n    this.hasBirdTouchedGround = this.hasBirdTouchedGround.bind(this);\n    this._drawSprite = this._drawSprite.bind(this);\n  }\n\n  updateState(currentState){\n    this.frames += 1;\n    this.state.currentState = currentState;\n    switch(currentState){\n      case STATE.PREGAME:\n        this.state.y = this.state.y + Math.cos(this.frames/7);\n        break;\n      case STATE.PLAYING:\n        this._playingState();\n        break;\n      default:\n        this._endGameState();\n        break;\n    }\n  }\n\n  updateCanvas(){\n    let idx = 0;\n    idx = Math.floor(this.frames/10) % 4;\n\n    switch(this.state.currentState){\n      case STATE.PLAYING:\n      case STATE.PREGAME:\n        this._drawBirdIndexes[idx]();\n        break;\n      default:\n        this._drawBirdFlapMid();\n        break;\n    }\n  }\n\n  _playingState(){\n    let {imagesRotation, velocity, y} = this.state;\n    const hasBirdTouchedCeiling = y <= BIRD.HEIGHT/2;\n    velocity = hasBirdTouchedCeiling ? 1: velocity + birdGravity;\n    y += velocity;\n    if(velocity >= BIRD.JUMP_INITIAL_SPEED){\n      imagesRotation = Math.min(Math.PI/2, imagesRotation + 0.3);\n    }else{\n      imagesRotation = -0.3;\n    }\n    this.state.imagesRotation = imagesRotation;\n    this.state.velocity = velocity;\n    this.state.y = y;\n  }\n\n  _endGameState(){\n    const lowestBirdPosition = this.state.y + BIRD.WIDTH/2;\n    if(lowestBirdPosition < BACKGROUND.UPPER_HEIGHT){\n      this.state.imagesRotation = Math.min(Math.PI/2, this.state.imagesRotation + 0.3);\n      this.state.y += 10;\n    }\n  }\n\n  hasBirdTouchedGround(){\n    const lowestBirdPosition = this.state.y + BIRD.WIDTH/2;\n    return lowestBirdPosition >= BACKGROUND.UPPER_HEIGHT;\n  }\n\n  _drawBirdFlapUp(){\n    this._drawSprite(184);\n  }\n\n  _drawBirdFlapMid(){\n    this._drawSprite(92);\n  }\n\n  _drawBirdFlapDown(){\n    this._drawSprite(0);\n  }\n\n  _drawSprite(spriteX){\n    const ctx = this.ctx;\n    let {x, y, imagesRotation} = this.state;\n    ctx.save();\n    ctx.translate(x, y);\n    ctx.rotate(imagesRotation);\n    ctx.drawImage(birdImg, spriteX, 0, 92, 64, -BIRD.WIDTH/2, -BIRD.HEIGHT/2, BIRD.WIDTH, BIRD.HEIGHT);\n    ctx.restore();\n  }\n\n  jump(){\n    this.state.velocity = -BIRD.JUMP_INITIAL_SPEED;\n  }\n\n  getPositions() {\n    return [this.state.x, this.state.y];\n  }\n}\n\nexport default Bird;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Bird.js","import {\n  BACKGROUND,\n  BIRD,\n  CANVAS,\n  DIFFICULTY,\n  PIPE,\n  STATE,\n} from './Constants';\n\nimport {PIPE_SRC} from './Images';\n\nimport {pipeCrashSound} from './Sounds';\n\nconst pipeImg = new Image();\npipeImg.src = PIPE_SRC;\n\nclass Pipes{\n  constructor(ctx, difficulty){\n    this.ctx = ctx;\n    this._difficulty = difficulty;\n    this._pipeCollection = [];\n    this.hasBirdPassedFirstPipe = this.hasBirdPassedFirstPipe.bind(this);\n  }\n\n  updateState(currentState){\n    if(currentState === STATE.PLAYING){\n      this._pipeCollection.forEach(this._movePipes.bind(this));\n      const isEmpty = this._pipeCollection.length === 0;\n      const rightMostPipe = this._pipeCollection[this._pipeCollection.length - 1];\n      const leftMostPipe = this._pipeCollection[0];\n      const shouldAddNewPipe = isEmpty || rightMostPipe.x <= 330;\n      const shouldRemoveOldPipe = !isEmpty && leftMostPipe.x <= -PIPE.WIDTH;\n      if(shouldAddNewPipe){\n        this._addNewPipes();\n      }\n      if(shouldRemoveOldPipe){\n        this._removeOldPipes();\n      }\n    }\n  }\n\n  updateCanvas(){\n    this._pipeCollection.forEach(this._drawPipes.bind(this));\n  }\n\n  _movePipes(pipe){\n    pipe.x -= PIPE.SPEED;\n  }\n\n  _drawPipes(pipe){\n    const ctx = this.ctx;\n    const {x, y, upperPipeHeight, lowerPipeHeight, spaceBtwUpAndDown, width} = pipe;\n    ctx.save();\n    ctx.translate(x, y);\n    ctx.rotate(Math.PI);\n    ctx.drawImage(pipeImg, -width, -upperPipeHeight, width, 600);\n    ctx.restore();\n    ctx.drawImage(pipeImg, x, upperPipeHeight + spaceBtwUpAndDown, width, 600);\n  }\n\n  _addNewPipes(){\n    let spaceBtwUpAndDown = 0;\n    switch(this._difficulty){\n      case DIFFICULTY.HARD:\n        spaceBtwUpAndDown = PIPE.SPACE_BETWEEN_PIPES - PIPE.DIFFICULTY_ADJUSTMENT;\n        break;\n      case DIFFICULTY.EASY:\n        spaceBtwUpAndDown = PIPE.SPACE_BETWEEN_PIPES + PIPE.DIFFICULTY_ADJUSTMENT;\n        break;\n      default:\n        spaceBtwUpAndDown = PIPE.SPACE_BETWEEN_PIPES;\n    }\n    const lowerPipeHeight = this._getRandomInt(BACKGROUND.LOWER_HEIGHT + 50, 350);\n    const upperPipeHeight = CANVAS.HEIGHT - lowerPipeHeight - spaceBtwUpAndDown;\n    const pipe = {\n      upperPipeHeight: upperPipeHeight,\n      x: 600,\n      y: 0,\n      lowerPipeHeight: lowerPipeHeight,\n      spaceBtwUpAndDown: spaceBtwUpAndDown,\n      width: PIPE.WIDTH,\n    };\n    this._pipeCollection.push(pipe);\n  }\n\n  _removeOldPipes(){\n    this._pipeCollection.splice(0, 1);\n  }\n\n  _getRandomInt(min, max){\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min;\n  }\n\n  hasBirdPassedFirstPipe(){\n    const leftMostPipe = this._pipeCollection[0];\n    const birdPassedFirstPipes = leftMostPipe && leftMostPipe.x + leftMostPipe.width + PIPE.SPEED*10 === BIRD.INITIAL_X_POSITION;\n    return birdPassedFirstPipes;\n  }\n\n  leftMostPipe(){\n    return this._pipeCollection[0] || {};\n  }\n}\n\nexport default Pipes;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Pipes.js"],"sourceRoot":""}